# Cloudera Manager
[cloudera_manager]
krishnanode1.infra.alephys.com

# Cluster nodes
[cluster_master_nodes]
krishnanode1.infra.alephys.com host_template=Master

[cluster_worker_nodes]
krishnanode2.infra.alephys.com host_template=Worker
krishnanode3.infra.alephys.com host_template=Worker

[cluster:children]
cluster_master_nodes
cluster_worker_nodes


# --------------------------
# Database Server
# --------------------------
[db_server]
krishnanode1.infra.alephys.com ansible_host=10.1.14.174 ansible_user=root

# --------------------------
# All Nodes
# --------------------------
[all_nodes]
krishnanode1.infra.alephys.com
krishnanode2.infra.alephys.com
krishnanode3.infra.alephys.com

# --------------------------
# Global Variables
# --------------------------
[all:vars]
ansible_connection=ssh
ansible_python_interpreter=/usr/bin/python3
ansible_ssh_common_args='-o StrictHostKeyChecking=no'

# Set database host dynamically (defaults to CM host)
database_host="{{ groups['db_server'] | default(groups['cloudera_manager']) | first }}"

